# Simulator Global Settings
simulator:
  world_rate: 1000 # Hz
  control_rate: 100 # Hz
  sim_time: 20 # seconds

  additional_sensors:
    imu_1:
      type: "imu"
      model: "rotorpy"
      sampling_rate: 50 # Hz

  # Sensor sampling rates - how often sensors are rendered/sampled
  # Event camera accumulates at this rate, other sensors capture at this rate
  sensor_rates:
    imu_1: 50 # Hz
    event_camera_1: 1000 # Hz - high-frequency event accumulation
    color_camera_1: 10 # Hz
    depth_camera_1: 10 # Hz

  # Visualization rates (optional) - how often to display sensor data
  # Must be <= sampling_rate for each sensor
  # If omitted, defaults to sampling_rate (display every sample)
  viz_rates:
    imu_1: 50 # Hz
    event_camera_1: 20 # Hz - visualize every 5th accumulation
    color_camera_1: 10 # Hz
    depth_camera_1: 10 # Hz

# Visual Backend Settings
visual_backend:
  gpu_id: 0
  scene: "data/scene_datasets/habitat-test-scenes/skokloster-castle.glb"
  scene_dataset_config_file: "default"
  clear_color: [0.0, 0.0, 0.0, 1.0] # BLACK in RGBA (assuming mn.Color4.from_linear_rgb_int(0))
  default_agent: 0

  # default_agent_navmesh: true
  # navmesh_include_static_objects: false
  enable_hbao: false
  frustum_culling: true

  seed: 1
  physics_config_file: "data/default.physics_config.json"
  enable_physics: true # Replace with false if `built_with_bullet` is False

  sensors:
    event_camera_1:
      type: "event"
      position: [0.0, 0.0, 0.05]
      orientation: [0.0, 0.0, 0.0]
      width: 640
      height: 480
      hfov: 90
      zfar: 1000.0
      backend: "cuda"
      contrast_threshold_neg: 0.35
      contrast_threshold_pos: 0.35

    color_camera_1:
      name: "color_camera_1"
      type: "color"
      position: [0.0, 0.0, 0.05]
      orientation: [0.0, 0.0, 0.0]
      width: 640
      height: 480
      hfov: 90
      zfar: 1000.0

    depth_camera_1:
      type: "depth"
      position: [0.0, 0.0, 0.05]
      orientation: [0.0, 0.0, 0.0]
      width: 640
      height: 480
      hfov: 90
      zfar: 1000.0

# Controller settings
controller:
  model: "rotorpy_se3"
  vehicle: "crazyflie"

# Dynamics settings
dynamics:
  model: "rotorpy_multirotor_euler"
  vehicle: "crazyflie"

# Trajectory settings
start_position: [-3.0, -14, 2]
start_orientation: [0, 0, 0, 1] # Quaternion [x, y, z, w]
trajectory:
  model: "polynomial"
  points: [[-3, -14, 2], [-4, -7, 2], [5, -7, 2], [4, -14, 2]]
  v_avg: 2
